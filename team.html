<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Cluedo - Ã‰quipe</title>
  <link rel="stylesheet" href="./css/style.css"/>
  <script src="https://unpkg.com/html5-qrcode" defer></script>
  <script src="./js/team.js" defer></script>
</head>
<body>
  <main class="container team-page">
    <h1>ğŸ‘¥ Espace Ã©quipe</h1>
    <p class="admin-subtitle">Page unique, persistante et mobile pour suivre votre Ã©quipe pendant tout le jeu.</p>

    <section class="team-accordion" aria-label="Sections de l'espace Ã©quipe">
      <article class="card team-block team-accordion-item is-open" data-accordion-item>
        <h2 class="team-accordion-heading">
          <button type="button" class="team-accordion-trigger" data-accordion-trigger aria-expanded="true" aria-controls="team-accordion-panel-qr" id="team-accordion-trigger-qr">
            <span>ğŸ“± Scanner de QR code</span>
            <span class="team-accordion-icon" aria-hidden="true">â–¾</span>
          </button>
        </h2>
        <div class="team-accordion-panel" id="team-accordion-panel-qr" role="region" aria-labelledby="team-accordion-trigger-qr">
          <p class="team-feedback">Scannez le QR d'un personnage pour rejoindre directement sa file.</p>
          <div id="team-qr-reader"></div>
          <p id="team-qr-feedback" class="team-feedback"></p>
        </div>
      </article>

      <article class="card team-block team-accordion-item" data-accordion-item>
        <h2 class="team-accordion-heading">
          <button type="button" class="team-accordion-trigger" data-accordion-trigger aria-expanded="false" aria-controls="team-accordion-panel-stats" id="team-accordion-trigger-stats">
            <span>ğŸ“Š Statistiques et rÃ©capitulatif</span>
            <span class="team-accordion-icon" aria-hidden="true">â–¾</span>
          </button>
        </h2>
        <div class="team-accordion-panel" id="team-accordion-panel-stats" role="region" aria-labelledby="team-accordion-trigger-stats" hidden>
          <h3>RÃ©capitulatif de votre parcours</h3>
          <div id="team-history">Chargementâ€¦</div>

          <h3>Ã‰tat actuel des personnages</h3>
          <div id="team-global">Chargementâ€¦</div>
        </div>
      </article>

      <article class="card team-block team-accordion-item" data-accordion-item>
        <h2 class="team-accordion-heading">
          <button type="button" class="team-accordion-trigger" data-accordion-trigger aria-expanded="false" aria-controls="team-accordion-panel-profile" id="team-accordion-trigger-profile">
            <span>ğŸ› ï¸ Informations d'Ã©quipe</span>
            <span class="team-accordion-icon" aria-hidden="true">â–¾</span>
          </button>
        </h2>
        <div class="team-accordion-panel" id="team-accordion-panel-profile" role="region" aria-labelledby="team-accordion-trigger-profile" hidden>
          <h3>IdentitÃ© d'Ã©quipe</h3>
          <div id="team-token" class="team-token"></div>
          <form id="team-profile-form" class="team-form">
            <label class="admin-label" for="team-name">Nom de l'Ã©quipe</label>
            <div class="team-inline">
              <input id="team-name" class="admin-input" maxlength="80" placeholder="Nom affichÃ©"/>
              <button type="submit" class="admin-button">Valider</button>
            </div>
            <p id="team-name-feedback" class="team-feedback"></p>

            <h3>Joueurs (max 10)</h3>
            <div id="team-players" class="team-players"></div>
            <button id="save-players" type="button" class="admin-button">Enregistrer les joueurs</button>
          </form>

          <div class="team-photo-wrap">
            <h3>Photo d'Ã©quipe</h3>
            <img id="team-photo" class="admin-photo" alt="Photo d'Ã©quipe"/>
            <input id="team-photo-input" type="file" accept="image/jpeg,image/png,image/webp"/>
            <p class="team-feedback">Image carrÃ©e obligatoire (mÃªmes contraintes que les photos personnage).</p>
          </div>
        </div>
      </article>
    </section>
  </main>
</body>
</html>
