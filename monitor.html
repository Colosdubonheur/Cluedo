<?php
require_once __DIR__ . '/includes/cache.php';
cluedo_send_html_no_cache_headers();
?>
<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Supervision Cluedo</title>
  <link rel="stylesheet" href="<?= htmlspecialchars(cluedo_asset_url('./css/style.css'), ENT_QUOTES, "UTF-8") ?>"/>
<link rel="icon" href="<?= htmlspecialchars(cluedo_asset_url('./favicon.ico'), ENT_QUOTES, "UTF-8") ?>" type="image/x-icon"/>
</head>
<body>
  <div class="container monitor-page">
    <div class="monitor-header-row">
      <button onclick="window.location.href='./index.html'" class="monitor-hub-btn">Retour au Hub</button>
      <button id="reset-history" class="monitor-reset-btn">Remettre l'historique Ã  zÃ©ro</button>
    </div>

    <h1>ðŸ“Š Supervision terrain</h1>

    <section class="card monitor-message-controls" aria-label="Communication supervision">
      <h2>ðŸ’¬ Communication supervision â†’ Ã©quipes</h2>
      <div class="monitor-message-form-row">
        <label for="message-target" class="admin-label">Destinataire</label>
        <select id="message-target" class="admin-input"></select>
      </div>
      <div class="monitor-message-form-row">
        <label for="message-text" class="admin-label">Message informatif</label>
        <textarea id="message-text" class="admin-input monitor-message-input" maxlength="300" placeholder="Ex: Pensez Ã  valider vos participants avant de lancer la prochaine rotation."></textarea>
      </div>
      <button id="send-message" class="admin-button">Envoyer le message</button>
      <p id="message-feedback" class="team-feedback" aria-live="polite"></p>
    </section>

    <section id="teams" class="monitor-grid" aria-live="polite">Chargementâ€¦</section>
  </div>
  <script src="<?= htmlspecialchars(cluedo_asset_url('./js/monitor.js'), ENT_QUOTES, "UTF-8") ?>"></script>
</body>
</html>
